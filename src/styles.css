/* =========================
   Tokens / Base
   ========================= */
   :root{
    --fg:#1a1a1a;
    --muted:#6b7280;
    --line:#e6e6e6;
  
    /* アクセント（淡色）：お好みで変更OK */
    --accent:#8BD3DD;
    --accent-ink:#0e3b40;
  
    /* 余白・角丸・横幅コントロール */
    --space-2:8px; --space-3:12px; --space-4:16px;
    --space-6:24px; --space-8:32px; --space-12:48px; --space-16:64px;
    --radius:16px;
  
    /* 横幅を絞る：ここで全体の読み幅を決める */
    --content-max: 880px;                         /* 以前:1120px → 880px に縮小 */
    --page-pad: clamp(20px, 6vw, 56px);           /* 左右の内側余白を常に確保 */
  
    --header-h:64px;
  }
  
  /* ベース */
  *{box-sizing:border-box}
  html{scroll-behavior:smooth}
  body{
    margin:0; color:var(--fg);
    font:16px/1.8 "Noto Sans JP",system-ui,-apple-system,Segoe UI,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji";
    background: none; /* 背景は擬似要素に任せる */
  }
  
  /*  フルスクリーン背景写真（固定） */
  body::before{
    content:"";
    position: fixed;
    inset: 0;
    z-index: -2;
    background: var(--hero-bg-image) center / cover no-repeat;
    /* iOS対策 & パフォーマンス */
    transform: translateZ(0);
    will-change: transform;
  }
  
  /* 薄い白ベールで可読性UP（減らしたいなら不透明度を下げる） */
  body::after{
    content:"";
    position: fixed;
    inset: 0;
    z-index: -1;
    background: rgba(255,255,255, .68);
  }
  
  /* =========================
     Header / Nav
     ========================= */
  .site-header{
    position:sticky; top:0; z-index:50;
    display:flex; align-items:center; justify-content:space-between;
    height:var(--header-h);
    padding-inline: var(--page-pad);
    border-bottom:1px solid var(--line);
    background: color-mix(in srgb, rgba(255,255,255,.85) 100%, transparent);
    backdrop-filter:saturate(1.1) blur(8px);
  }
  .brand{color: var(--fg); font-weight:700; letter-spacing:.04em; text-decoration:none}
  .brand-accent{color:var(--accent)}
  
  .hamburger{
    border:1px solid var(--line);
    background:#fff; padding:8px 12px; border-radius:10px;
    display:none;
  }
  .nav{display:flex; gap:12px; align-items:center}
  .nav a{
    color: var(--fg); padding:8px 10px; text-decoration:none; border-radius:10px;
  }
  .nav a.is-active, .nav a:hover{
    background:var(--accent); color:var(--accent-ink);
  }
  
  /* モバイル */
  @media (max-width: 900px){
    .hamburger{display:inline-block}
    .nav{
      position:absolute; right:var(--page-pad); top:calc(var(--header-h) - 2px);
      flex-direction:column; align-items:stretch; gap:6px;
      background:#ffffff; border:1px solid var(--line);
      border-radius:12px; padding:8px; display:none;
    }
    .nav.is-open{display:flex}
  }
  
  /* =========================
     Sections / Common
     ========================= */
  .section{
    /* 横の余白は container 側で担保。ここは上下だけ */
    padding-block: var(--space-16);
    scroll-margin-top:calc(var(--header-h) + 16px);
  }
  .container{
    max-width: var(--content-max);
    margin: 0 auto;
    padding-inline: var(--page-pad); /* ★ 左右余白を常に確保 */
  }
  .section-title{
    text-align:center; font-size:clamp(28px,4vw,42px); margin:0 0 var(--space-12);
  }
  .section-title::after{
    content:""; display:block; width:120px; height:4px; margin:12px auto 0;
    background:#a2e5ed; border-radius:2px;
  }

  /* =========================
     About
     ========================= */
  .grid-2{
    display:grid; grid-template-columns: 1fr 1.2fr; gap:var(--space-12);
  }
  .about-photo{
    display:flex; justify-content:center; align-items:flex-start;
  }
  .about-photo img{
    width:min(300px, 80%); aspect-ratio:1/1; object-fit:cover;
    border-radius:999px; border:8px solid #fff; box-shadow:0 5px 30px rgba(0,0,0,.08);
  }
  .about-text{align-self:center}
  .about-name{font-size:clamp(22px,2.8vw,28px); margin:0 0 var(--space-4)}
  .roman{font-weight:400; color: var(--fg); margin-left:8px}
  .lead{margin:0; color:#444}
  
  @media (max-width: 900px){
    .grid-2{grid-template-columns: 1fr; text-align:center}
    .about-text{justify-self:center}
  }
  
/* ===== Service (Works) ===== */
.work-row{
    /* 画像が大きくなりすぎないよう、比率を少しテキスト寄りに */
    display:grid; grid-template-columns: 1.1fr 0.9fr;
    gap:var(--space-12);
    align-items:center; margin-bottom:var(--space-16);
  }
  .work-row.reverse{ grid-template-columns: 0.9fr 1.1fr }
  .work-row.reverse .work-text{ order:2 }
  .work-row.reverse .work-image{ order:1 }
  
  /* 画像サイズを控えめに。中央寄せ＆最大幅を制限 */
  .work-image{ display:flex; justify-content:center; }
  .work-image img{
    width: 100%;
    max-width: clamp(320px, 42vw, 520px); /* ★ ここで“画面に対して控えめ”を担保 */
    height: auto;
    border-radius:12px; box-shadow:0 10px 40px rgba(0,0,0,.10);
  }
  
  .work-title{font-size:clamp(22px,2.8vw,30px); margin:0 0 var(--space-3)}
  .work-desc{margin:0; color:#505050}
  
  @media (max-width: 900px){
    .work-row, .work-row.reverse{ grid-template-columns: 1fr; }
    .work-image img{ max-width: 100%; }
  }
  /* ボタン（Service のリンク） */
  .work-actions{
    display:flex; gap:12px; margin-top: var(--space-6);
    flex-wrap: wrap;
  }
  .btn{
    display:inline-block;
    padding:10px 16px;
    border-radius:12px;
    background: var(--accent);
    color: var(--accent-ink);
    text-decoration:none;
    font-weight:700;
  }
  .btn:hover{ filter:brightness(.98) }

  .btn-outline{
    display:inline-block;
    padding:10px 16px;
    border-radius:12px;
    border:1px solid var(--line);
    background:#fff;
    color: var(--fg);
    text-decoration:none;
  }
  .btn-outline:hover{
    background: color-mix(in srgb, #fff 90%, var(--accent) 10%);
  }

  /* 動画も画像と同じスケールで収まるように */
  .work-image { display:flex; justify-content:center; }
  .work-image img,
  .work-image .work-video{
    width: 100%;
    max-width: clamp(450px, 50vw, 600px);
    max-height: 300px;
    border-radius:12px;
    box-shadow:0 10px 40px rgba(0,0,0,.10);
  }

  /* ==== Skill==== */

  /* 列数は前回の2列のまま（横長の印象をキープ） */
  .skill-grid{
    display:grid;
    grid-template-columns: repeat(3, minmax(0, 1fr));
    gap: var(--space-8);
  }

  .skill-card{
    display:flex; flex-direction:column;
    border:1px solid var(--line); border-radius:var(--radius);
    overflow:hidden; background:#fff;
  }

  /* 比率は“枠”で管理。デフォは 1:1（正方形元画像が切れない） */
  :root{
    --skill-image-ar: 4 / 3;      /* 横長にしたいなら 4 / 3 や 16 / 9 に変更 */
    --skill-media-inset: 6%;      /* 枠の内側に入れる余白（ゆとり）。5〜8%が目安 */
  }

  /* 画像枠：比率を確保（擬似要素で高さを作る） */
  .skill-image{
    position: relative;
    background:#fff;              /* 背景が見える＝“ゆとり”が視覚化される */
    border-bottom:1px solid var(--line);
  }
  .skill-image::before{
    content:"";
    display:block;
    aspect-ratio: var(--skill-image-ar);
    width:100%;
  }

  /* 中の img は“contain”（切らない）。枠の内側にインセットして余白を作る */
  .skill-image img{
    position:absolute;
    inset: var(--skill-media-inset);
    width: calc(100% - 2 * var(--skill-media-inset));
    height: calc(100% - 2 * var(--skill-media-inset));
    object-fit: contain;          /* ← トリミングしない */
    border-radius: 10px;          /* わずかに角を丸めて上質感 */
    background: #fff;             /* 透過PNGでも下が白で安定 */
  }

  /* タイトル・本文は従来通り */
  .skill-title{ margin:var(--space-4) var(--space-4) var(--space-2); font-size:20px }
  .skill-body { margin:0 var(--space-4) var(--space-6); color:#505050 }

  /* Skill 本文内のテキストリンク */
  .skill-body a,
  .inline-link {
    color: #505050;                 /* 水色アクセント */
    text-decoration: underline;
    text-underline-offset: 2px;
    text-decoration-thickness: 1px;
    transition: color .15s ease, text-decoration-thickness .15s ease;
  }

  .skill-body a:hover,
  .inline-link:hover {
    color: #505050c7;             /* 少し濃い色に */
    text-decoration-thickness: 2px;
  }
  /* スマホは1列。インセットを少し弱めて画像が小さくなりすぎないように調整してもOK */
  @media (max-width: 900px){
    .skill-grid{ grid-template-columns: 1fr; }
    /* 例：スマホは余白を5%に */
    /* .skill-image img{ inset: 5%; width: calc(100% - 10%); height: calc(100% - 10%); } */
  }

  
  /* ===== History (Timeline) ===== */
  /* .timeline は .container の内側に置く前提に変更（左右余白が必ず効く） */
  .timeline{
    position:relative;
    margin-left:8px;           /* 軽い余白のみ */
    padding-left:18px;
  }
  .timeline::before{
    content:""; position:absolute; left:0; top:0; bottom:0; width:2px; background:var(--line);
  }
  .timeline-item{
    display:grid; grid-template-columns: 80px 20px 1fr; gap:16px;
    margin-bottom:var(--space-6);
  }
  .timeline-year{font-weight:700}
  .timeline-dot{
    width:14px; height:14px; border-radius:50%;
    background:var(--fg); margin-top:4px;
    box-shadow: 0 0 0 3px rgba(15,23,42,.08);
  }
  .timeline-text{color:#444}
  @media (max-width: 600px){
    .timeline-item{grid-template-columns: 62px 20px 1fr}
  }
  
  
  /* =========================
     Contact
     ========================= */
  .contact-block{
    border:1px solid var(--line); border-radius:var(--radius);
    padding:var(--space-8); background:#fff;
    text-align:center; max-width:420px; margin:0 auto;
  }
  .contact-lead{
    color:var(--muted); margin-bottom:var(--space-6); line-height:1.6;
  }
  .contact-x-link{
    display:inline-flex; align-items:center; justify-content:center; gap:10px;
    padding:14px 28px; border-radius:14px; font-weight:700; letter-spacing:.04em;
    background:var(--accent); color:var(--accent-ink);
    text-decoration:none; transition:filter .15s ease;
  }
  .contact-x-link:hover{ filter:brightness(.97); }
  .contact-x-link:focus-visible{ outline:2px solid color-mix(in srgb, var(--accent) 60%, transparent); outline-offset:2px; }
  .contact-x-icon{
    display:inline-flex; align-items:center; justify-content:center;
    width:24px; height:24px; font-size:14px; font-weight:800;
    background:#000; color:#fff; border-radius:6px;
  }
  
  /* =========================
     Footer
     ========================= */
  .site-footer{
    border-top:1px solid var(--line);
    text-align:center; color:#5f6673;
    padding:var(--space-6);
  }

  /* =========================
   Inline Emphasis Utilities
   ========================= */

  /* トークン（既存のカラースキームと整合） */
  :root{
    --em-ink: var(--accent-ink);                         /* 文字色（濃い青緑） */
    --em-bg: color-mix(in srgb, var(--accent) 22%, #fff);/* 背景に淡いアクア */
    --em-outline: color-mix(in srgb, var(--em-ink) 12%, transparent);
  }

  /* セマンティクス優先：strong/em/mark を少しだけ強調 */
  :where(.section, .work-desc, .skill-body, .lead) strong{
    font-weight: 800;
  }
  :where(.section, .work-desc, .skill-body, .lead) em{
    font-style: italic;
  }
  :where(.section, .work-desc, .skill-body, .lead) mark{
    background: var(--em-bg);
    color: var(--em-ink);
    padding: 0 .25em;
    border-radius: 4px;
  }

  /* 実用ユーティリティ：色付き強調（背景あり） */
  .em{
    color: var(--em-ink);
    background: var(--em-bg);
    padding: 0 .25em;
    border-radius: 6px;
    box-shadow: 0 0 0 1px var(--em-outline) inset;
  }

  /* 色付き強調（背景なしで文字色だけ） */
  .em-clean{
    color: #f87a48;
    font-weight: 700;
  }

  /* 補助：薄い文字・下線・キーボード表記・小バッジ */
  .muted{ color: var(--muted); }
  .u{ color: #e4622e; text-decoration: underline; text-underline-offset: 2px; }
  .kbd{
    font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;
    font-size: .92em;
    background: #f3f4f6; border: 1px solid var(--line);
    border-radius: 6px; padding: 0 .35em;
  }
  .badge{
    display: inline-block; line-height: 1.8;
    padding: 0 .6em; border-radius: 999px;
    background: var(--accent-weak); color: var(--accent-ink);
    border: 1px solid var(--line);
  }